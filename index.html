<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>AI Chat (WebLLM)</title>
  <script src="https://unpkg.com/@mlc-ai/web-llm"></script>
</head>
<body>

<textarea id="chat" style="width:100%;height:300px;">Привет! Я локальный ИИ.\n</textarea>
<input id="input" style="width:100%;" placeholder="Введите текст...">
<button onclick="send()">Отправить</button>

<script>
let model;

async function init() {
  model = await webllm.ChatModule.create("Llama-3-8B-Instruct-q4f32_1");
}

init();

async function send() {
  const chat = document.getElementById("chat");
  const input = document.getElementById("input");
  const text = input.value.trim();
  if (!text || !model) return;

  chat.value += "Вы: " + text + "\n";
  input.value = "";

  chat.value += "ИИ: ...\n";

  const response = await model.generate(text);
  
  chat.value = chat.value.replace("ИИ: ...", "ИИ: " + response);
}
</script>

</body>
</html>
